package arraySorter;


import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;


public class QuickSort<T extends Comparable<? super T>> implements ArraySort<T> {

    public T[] sort(T[] array) {
        return quickSort( array,0, array.length -1);
    }

    T[] quickSort(T[] array, int startPoint, int endPoint) {
        if(startPoint < endPoint) {
            int partition = partition(array, startPoint, endPoint);

            array = quickSort(array, startPoint, partition - 1);
            array = quickSort(array, partition + 1, endPoint);
        }
        return  array;
    }

    int partition(T[] array, int startPoint, int endPoint) {
        T pivot = array[endPoint];

        int index = startPoint - 1;

        for (int i = startPoint; i < endPoint; i++) {
            if (array[i].compareTo(pivot) < 0) {
                index++;

                T tmp = array[index];
                array[index] = array[i];
                array[i] = tmp;
            }
        }

        int newIndex = index + 1;
        T tmp = array[newIndex];
        array[newIndex] = array[endPoint];
        array[endPoint] = tmp;

        return  newIndex;
    }
}
